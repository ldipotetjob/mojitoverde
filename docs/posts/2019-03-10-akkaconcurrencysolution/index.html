<!DOCTYPE html>
<html lang="en-us">
<head>
  <link rel="preload" href="/mojitoverde/lib/font-awesome/webfonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/mojitoverde/lib/font-awesome/webfonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/mojitoverde/lib/font-awesome/webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/mojitoverde/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> Akka an intelligent solution for concurrency | Green Mojito in technology</title>
  <link rel = 'canonical' href = 'https://ldipotetjob.github.io/mojitoverde/posts/2019-03-10-akkaconcurrencysolution/'>
  <meta name="description" content="Green Mojito is a fresh site where the knowledge must be fresh but not simple, where the content can be complex but nice. This is a site where you can find different scenarios and use cases related with different technologies. We believe in the beginnings but we won&#39;t deal with &#39;hello world&#39; projects.">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="Akka an intelligent solution for concurrency" />
<meta property="og:description" content="We have a concurrency problem: I need to process and parse hundreds of thousands of websites asynchronously. I tried many options with something in mind always: Futures. By coding in that manner, I produce something akin to the following:
1//.................... 2 3//game_1: Int value indicating first game 4 5//game_n: Int value indicating game n 6 7val resultMatch:List[Future[List[Match]]] = (game_1 until game_n).map { 8 matchnum =&gt; 9 Future{ 10 new ParserFootbalHTML(&#34;https://www.anyurl.com/...&#34; &#43; matchnum)." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ldipotetjob.github.io/mojitoverde/posts/2019-03-10-akkaconcurrencysolution/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-03-10T09:00:00+00:00" />
<meta property="article:modified_time" content="2019-03-10T09:00:00+00:00" />


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Akka an intelligent solution for concurrency"/>
<meta name="twitter:description" content="We have a concurrency problem: I need to process and parse hundreds of thousands of websites asynchronously. I tried many options with something in mind always: Futures. By coding in that manner, I produce something akin to the following:
1//.................... 2 3//game_1: Int value indicating first game 4 5//game_n: Int value indicating game n 6 7val resultMatch:List[Future[List[Match]]] = (game_1 until game_n).map { 8 matchnum =&gt; 9 Future{ 10 new ParserFootbalHTML(&#34;https://www.anyurl.com/...&#34; &#43; matchnum)."/>

  
  
    
  
  
  <link rel="stylesheet" href="https://ldipotetjob.github.io/mojitoverde/css/styles.685a7e873a497dbcea0bfa576da7a90a6fdfa467b15d351ce89f3174ed69210334f9b2965fe482172b4c8af3ce8aa5c4fbc6a257f86ab893f5a3ed0191338446.css" integrity="sha512-aFp&#43;hzpJfbzqC/pXbaepCm/fpGexXTUc6J8xdO1pIQM0&#43;bKWX&#43;SCFytMivPOiqXE&#43;8aiV/hquJP1o&#43;0BkTOERg=="> 

  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://ldipotetjob.github.io/mojitoverde/images/favicon.ico" />

  
  
  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;" aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/mojitoverde/">Home</a></li>
         
        <li><a href="/mojitoverde/posts">Blog</a></li>
         
        <li><a href="/mojitoverde/tags">Tags</a></li>
         
        <li><a href="/mojitoverde/about">About</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" https://ldipotetjob.github.io/mojitoverde/posts/2019-02-12-generatedistroplayscala/" aria-label="Previous">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="https://ldipotetjob.github.io/mojitoverde/posts/2020-04-06-futureinscala/" aria-label="Next">
            <i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i>
          </a>
        </li>
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#" aria-label="Share">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fldipotetjob.github.io%2fmojitoverde%2fposts%2f2019-03-10-akkaconcurrencysolution%2f" aria-label="Facebook">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fldipotetjob.github.io%2fmojitoverde%2fposts%2f2019-03-10-akkaconcurrencysolution%2f&text=Akka%20an%20intelligent%20solution%20for%20concurrency" aria-label="Twitter">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fldipotetjob.github.io%2fmojitoverde%2fposts%2f2019-03-10-akkaconcurrencysolution%2f&title=Akka%20an%20intelligent%20solution%20for%20concurrency" aria-label="Linkedin">
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fldipotetjob.github.io%2fmojitoverde%2fposts%2f2019-03-10-akkaconcurrencysolution%2f&is_video=false&description=Akka%20an%20intelligent%20solution%20for%20concurrency" aria-label="Pinterest">
      <i class="fab fa-pinterest " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Akka%20an%20intelligent%20solution%20for%20concurrency&body=Check out this article: https%3a%2f%2fldipotetjob.github.io%2fmojitoverde%2fposts%2f2019-03-10-akkaconcurrencysolution%2f" aria-label="Email">
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fldipotetjob.github.io%2fmojitoverde%2fposts%2f2019-03-10-akkaconcurrencysolution%2f&title=Akka%20an%20intelligent%20solution%20for%20concurrency" aria-label="Pocket">
      <i class="fab fa-get-pocket " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fldipotetjob.github.io%2fmojitoverde%2fposts%2f2019-03-10-akkaconcurrencysolution%2f&title=Akka%20an%20intelligent%20solution%20for%20concurrency" aria-label="reddit">
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fldipotetjob.github.io%2fmojitoverde%2fposts%2f2019-03-10-akkaconcurrencysolution%2f&name=Akka%20an%20intelligent%20solution%20for%20concurrency&description=We%20have%20a%20concurrency%20problem%3a%20I%20need%20to%20process%20and%20parse%20hundreds%20of%20thousands%20of%20websites%20asynchronously.%20I%20tried%20many%20options%20with%20something%20in%20mind%20always%3a%20Futures.%20By%20coding%20in%20that%20manner%2c%20I%20produce%20something%20akin%20to%20the%20following%3a%0a1%2f%2f....................%202%203%2f%2fgame_1%3a%20Int%20value%20indicating%20first%20game%204%205%2f%2fgame_n%3a%20Int%20value%20indicating%20game%20n%206%207val%20resultMatch%3aList%5bFuture%5bList%5bMatch%5d%5d%5d%20%3d%20%28game_1%20until%20game_n%29.map%20%7b%208%20matchnum%20%3d%26gt%3b%209%20Future%7b%2010%20new%20ParserFootbalHTML%28%26%2334%3bhttps%3a%2f%2fwww.anyurl.com%2f...%26%2334%3b%20%2b%20matchnum%29." aria-label="Tumblr">
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fldipotetjob.github.io%2fmojitoverde%2fposts%2f2019-03-10-akkaconcurrencysolution%2f&t=Akka%20an%20intelligent%20solution%20for%20concurrency" aria-label="Hacker News">
      <i class="fab fa-hacker-news " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    <div id="toc">
      <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#actor-system-heritage">Actor system heritage</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        Akka an intelligent solution for concurrency
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="2019-03-10 09:00:00 &#43;0000 UTC" itemprop="datePublished">2019-03-10</time>
          
        </div>
        
        
        <div class="article-read-time">
          <i class="far fa-clock"></i>
          
          5 minute read
        </div>
        
        
        <div class="article-category">
            <i class="fas fa-archive"></i>
            
            
            <a class="category-link" href="/mojitoverde/categories/scala-programming">scala programming</a>
            
        </div>
        
        
        <div class="article-tag">
            <i class="fas fa-tag"></i>
            
            
            <a class="tag-link" href="/mojitoverde/tags/scala" rel="tag">scala</a>
            
             ,  
            <a class="tag-link" href="/mojitoverde/tags/akka" rel="tag">akka</a>
            
        </div>
        
      </div>
    </header>

  
    <div class="content" itemprop="articleBody">
      <p>We have a concurrency problem:
I need to process and parse hundreds of thousands of websites asynchronously. I tried many options with something in mind always: <strong>Futures</strong>.
By coding in that manner, I produce something akin to the following:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#6272a4">//....................
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span style="color:#6272a4"></span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span style="color:#6272a4">//game_1: Int value indicating first game 
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span><span style="color:#6272a4"></span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span><span style="color:#6272a4">//game_n: Int value indicating game n 
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span><span style="color:#6272a4"></span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span><span style="color:#ff79c6">val</span> resultMatch<span style="color:#ff79c6">:</span><span style="color:#8be9fd">List</span><span style="color:#ff79c6">[</span><span style="color:#8be9fd">Future</span><span style="color:#ff79c6">[</span><span style="color:#8be9fd">List</span><span style="color:#ff79c6">[</span><span style="color:#8be9fd">Match</span><span style="color:#ff79c6">]]]</span> <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>game_1 until game_n<span style="color:#ff79c6">).</span>map <span style="color:#ff79c6">{</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span> matchnum <span style="color:#ff79c6">=&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span> <span style="color:#50fa7b">Future</span><span style="color:#ff79c6">{</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>  <span style="color:#ff79c6">new</span> <span style="color:#50fa7b">ParserFootbalHTML</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;https://www.anyurl.com/...&#34;</span> <span style="color:#ff79c6">+</span> matchnum<span style="color:#ff79c6">).</span>finalMatch
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>  <span style="color:#ff79c6">}}.</span>toList
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span><span style="color:#6272a4">//..............
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span><span style="color:#6272a4"></span>resultMatch foreach<span style="color:#ff79c6">(</span>future <span style="color:#ff79c6">=&gt;</span> future onComplete <span style="color:#ff79c6">{</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span> <span style="color:#50fa7b">Thread</span><span style="color:#ff79c6">.</span>sleep<span style="color:#ff79c6">(</span><span style="color:#bd93f9">1</span><span style="color:#ff79c6">)</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span> doComplete
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span><span style="color:#ff79c6">})</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span><span style="color:#6272a4">//...............
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span><span style="color:#6272a4"></span><span style="color:#ff79c6">def</span> doComplete<span style="color:#ff79c6">:</span> <span style="color:#8be9fd">PartialFunction</span><span style="color:#ff79c6">[</span><span style="color:#8be9fd">Try</span><span style="color:#ff79c6">[</span><span style="color:#8be9fd">List</span><span style="color:#ff79c6">[</span><span style="color:#8be9fd">Match</span><span style="color:#ff79c6">]]</span>,<span style="color:#8be9fd">Unit</span><span style="color:#ff79c6">]</span> <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">{</span> <span style="color:#6272a4">//
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span><span style="color:#6272a4"></span> <span style="color:#ff79c6">case</span> matches <span style="color:#ff79c6">@</span> <span style="color:#50fa7b">Success</span><span style="color:#ff79c6">(</span><span style="color:#ff79c6">_</span><span style="color:#ff79c6">)</span> <span style="color:#ff79c6">=&gt;{</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span> <span style="color:#ff79c6">val</span> resultMatch<span style="color:#ff79c6">:</span><span style="color:#8be9fd">List</span><span style="color:#ff79c6">[</span><span style="color:#8be9fd">Match</span><span style="color:#ff79c6">]</span> <span style="color:#ff79c6">=</span> matches<span style="color:#ff79c6">.</span>getOrElse<span style="color:#ff79c6">(</span><span style="color:#50fa7b">List</span><span style="color:#ff79c6">.</span>empty<span style="color:#ff79c6">[</span><span style="color:#8be9fd">Match</span><span style="color:#ff79c6">])</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21</span>  resultMatch<span style="color:#ff79c6">.</span>foreach<span style="color:#ff79c6">(</span>matches<span style="color:#ff79c6">=&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22</span><span style="color:#6272a4">//Do anything with matches
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23</span><span style="color:#6272a4"></span> <span style="color:#ff79c6">)</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24</span> <span style="color:#ff79c6">}</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25</span> <span style="color:#ff79c6">case</span> fail <span style="color:#ff79c6">@</span> <span style="color:#50fa7b">Failure</span><span style="color:#ff79c6">(</span><span style="color:#ff79c6">_</span><span style="color:#ff79c6">)</span> <span style="color:#ff79c6">=&gt;</span> println<span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;error&#34;</span><span style="color:#ff79c6">)</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26</span><span style="color:#ff79c6">}</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27</span><span style="color:#6272a4">//....................
</span></code></pre></div><p>With minimal changes, the main idea was to launch as many <strong>&ldquo;Futures&rdquo;</strong> as websites we needed to parse or process and then do something with the results when every computation finishes(<strong>onComplete</strong>). I checked the processing time and then decided to probe the Akka libraries to improve the performance and reduce the calculation time.</p>
<p>I recommend understanding the core of Akka libraries, <a href="https://en.wikipedia.org/wiki/Actor_model">the Actor Model</a> because it is the base of these libraries and the implementation that Akka has made of this model.</p>
<p><img src="/mojitoverde/images/akka_actormodel_eng.png#floatcenter" alt="akka_actormodel_eng_img"></p>
<p>Let us have a look at the actor model Akka implementation.</p>
<p><img src="/mojitoverde/images/akka_mailbox.png#floatleft" alt="akka_mailbox_img">
<strong>Actor and Actor-1</strong> communicate exclusively by exchanging messages( placing them into the recipient’s MailBox) asynchronously.<br>
<strong>Actor and Actor 1</strong> should avoid hogging resources.<br>
Message Should Not be mutable.<br>
Something to know from the official documentation:<br>
<strong>The only meaningful way for a sender to know whether an interaction was successful is by receiving a business-level acknowledgment message, which is not something Akka could make up on its own (neither are we writing a “do what I mean” framework nor would you want us to).</strong><br>
We are facing the authentic concept of encapsulation. <strong>Everything happens inside the Actor</strong>, and if the actor wants to delegate a task, have to send a message to the other Actor and keep working. That is why you ought to granulate every task in the actor as simply as possible.</p>
<p>Split up the tasks and delegate them until they become small enough to be handled in One piece!</p>
<p>As you can see in the picture below:
At the time you invoke the <strong>ActorSystem</strong>,  various actors have already been created.
Actor1 is a <strong>Supervisor</strong> of Actor1.1 and Actor 1.2</p>
<h3 id="actor-system-heritage">Actor system heritage</h3>
<p><img src="/mojitoverde/images/akka_actor_heritage.png#floatcenter" alt="akka_actor_heritage_img"></p>
<p>Creating only <strong>One ActorSystem per application</strong> is considered a <strong>BestPractice</strong> because it is a very heavy object and can be created in <a href="https://doc.akka.io/api/akka/current/akka/actor/ActorSystem$.html">different ways</a>:</p>
<ul>
<li><a href="https://doc.akka.io/api/akka/current/akka/actor/ActorSystem$.html#apply(name:String,config:Option%5Bcom.typesafe.config.Config%5D,classLoader:Option%5BClassLoader%5D,defaultExecutionContext:Option%5Bscala.concurrent.ExecutionContext%5D):akka.actor.ActorSystem">ActorSystem.apply</a></li>
<li><a href="https://doc.akka.io/api/akka/current/akka/actor/ActorSystem$.html#create(name:String,config:com.typesafe.config.Config,classLoader:ClassLoader,defaultExecutionContext:scala.concurrent.ExecutionContext):akka.actor.ActorSystem">ActorSystem.create</a></li>
</ul>
<p>The <strong>ActorSystem</strong> created can be in the same context or any other <strong>execution context</strong> created by us and declared implicitly.
As we can see in <a href="#actor-system-heritage">the actor system heritage figure</a> there are different ways of creating actors:</p>
<ul>
<li>Actors that are children of user &ldquo;guardian&rdquo; are created by: <strong>system.actorOf</strong>. I do not create too many actors of this type because one of these actors will be the root actor of my app.</li>
<li>Actor that will be child of my own actors(created by us) are created by: <strong>context.actorOf</strong>.The context is an <strong>ActorContext</strong>, an <strong>implicit val</strong> in the Actor trait.</li>
</ul>
<p>The <strong>ActorContext</strong> exposes contextual info for the Actor:</p>
<ul>
<li><a href="https://doc.akka.io/api/akka/current/akka/actor/ActorContext.html#self:akka.actor.ActorRef">self()</a></li>
<li><a href="https://doc.akka.io/api/akka/current/akka/actor/ActorContext.html#sender():akka.actor.ActorRef">sender()</a></li>
<li><a href="https://doc.akka.io/api/akka/current/akka/actor/ActorContext.html#watch(subject:akka.actor.ActorRef):akka.actor.ActorRef">watch()</a>: used for track actor activities and know when it stopped. Expected a &ldquo;<a href="https://doc.akka.io/api/akka/current/akka/actor/Terminated.html">Terminated</a>&rdquo;</li>
<li><a href="https://doc.akka.io/api/akka/current/akka/actor/ActorContext.html#unwatch(subject:akka.actor.ActorRef):akka.actor.ActorRef">unwatch()</a></li>
<li><a href="https://doc.akka.io/api/akka/current/akka/actor/ActorContext.html#actorOf(props:akka.actor.Props):akka.actor.ActorRef">actorOf()</a></li>
<li><a href="https://doc.akka.io/api/akka/current/akka/actor/ActorContext.html#become(behavior:akka.actor.Actor.Receive,discardOld:Boolean):Unit">become()</a>: change the actor behavior. We decide what message we process and how. An actor can start processing any message and change its behavior for any reason.</li>
<li><a href="https://doc.akka.io/api/akka/current/akka/actor/ActorContext.html#actorSelection(path:akka.actor.ActorPath):akka.actor.ActorSelection">actorSelection</a>(actor path): We can select an actor for its path (ref. <a href="#actor-system-heritage">the actor system heritage figure</a>, user/Actor1/Actor1.2)</li>
</ul>
<p>You get an ActorRef, every time you create an Actor. This ActorRef is an immutable reference that identifies the actor until it terminates his life. Only when the actor restarts its ActorRef will change.</p>
<p>Terminate(ActorRef that is being watched, ref <a href="https://doc.akka.io/api/akka/current/akka/actor/ActorContext.html#watch(subject:akka.actor.ActorRef):akka.actor.ActorRef">watch</a>). When it happens the Actor frees up its resources.</p>
<p>When we have an ActorRef:
<a href="https://doc.akka.io/api/akka/current/akka/actor/ActorRef.html#!(message:Any)(implicitsender:akka.actor.ActorRef):Unit">! or tell</a>: fire a message and forget.
<a href="https://doc.akka.io/api/akka/current/akka/pattern/AskSupport.html#ask(actorSelection:akka.actor.ActorSelection,message:Any,sender:akka.actor.ActorRef)(implicittimeout:akka.util.Timeout):scala.concurrent.Future%5BAny%5D">? or ask</a>: send a message asynchronously and return a future.
As best practice: send a message via ! or tell.</p>
<p>We indicate below the best way to create and invoke different types of actors<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#ff79c6">............</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span style="color:#ff79c6">object</span> <span style="color:#50fa7b">BootNotScheduled</span> <span style="color:#ff79c6">extends</span> <span style="color:#50fa7b">App</span> <span style="color:#ff79c6">with</span> <span style="color:#50fa7b">ScalaLogger</span><span style="color:#ff79c6">{</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span> <span style="color:#ff79c6">val</span> moviePageBoundaries<span style="color:#ff79c6">:</span> <span style="color:#8be9fd">List</span><span style="color:#ff79c6">[</span><span style="color:#8be9fd">Int</span><span style="color:#ff79c6">]</span> <span style="color:#ff79c6">=</span> <span style="color:#50fa7b">Try</span><span style="color:#ff79c6">(</span><span style="color:#50fa7b">List</span><span style="color:#ff79c6">(</span>args<span style="color:#ff79c6">(</span><span style="color:#bd93f9">0</span><span style="color:#ff79c6">).</span>toInt<span style="color:#ff79c6">,</span> args<span style="color:#ff79c6">(</span><span style="color:#bd93f9">1</span><span style="color:#ff79c6">).</span>toInt<span style="color:#ff79c6">))</span> <span style="color:#ff79c6">match</span> <span style="color:#ff79c6">{</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>  <span style="color:#ff79c6">case</span> <span style="color:#50fa7b">Success</span><span style="color:#ff79c6">(</span>expectedList<span style="color:#ff79c6">)</span> <span style="color:#ff79c6">=&gt;</span> expectedList
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>  <span style="color:#ff79c6">case</span> <span style="color:#50fa7b">Failure</span><span style="color:#ff79c6">(</span>e<span style="color:#ff79c6">)</span> <span style="color:#ff79c6">=&gt;</span> log<span style="color:#ff79c6">.</span>error<span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;Error with the boundaries of your page numbers,reviews your parameters {}&#34;</span><span style="color:#ff79c6">,</span>e<span style="color:#ff79c6">.</span>toString<span style="color:#ff79c6">)</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>   <span style="color:#50fa7b">System</span><span style="color:#ff79c6">.</span>exit<span style="color:#ff79c6">(</span><span style="color:#bd93f9">1</span><span style="color:#ff79c6">)</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>   <span style="color:#50fa7b">Nil</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span> <span style="color:#ff79c6">}</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span> <span style="color:#6272a4">// This actor will control the whole System (&#34;IoTDaemon_Not_Scheduled&#34;)
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span><span style="color:#6272a4"></span> <span style="color:#ff79c6">val</span> system <span style="color:#ff79c6">=</span> <span style="color:#50fa7b">ActorSystem</span><span style="color:#ff79c6">(</span><span style="color:#50fa7b">ConstantsObject</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">NotScheduledIoTDaemon</span><span style="color:#ff79c6">)</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span><span style="color:#6272a4">// creating ioTAdmin actor 
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span><span style="color:#6272a4"></span><span style="color:#ff79c6">val</span> ioTAdmin <span style="color:#ff79c6">=</span> system<span style="color:#ff79c6">.</span>actorOf<span style="color:#ff79c6">(</span><span style="color:#50fa7b">IoTAdmin</span><span style="color:#ff79c6">.</span>props<span style="color:#ff79c6">,</span> <span style="color:#50fa7b">ConstantsObject</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">NotScheduledIoTDaemonProcessing</span><span style="color:#ff79c6">)</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span> <span style="color:#ff79c6">val</span> filteredAndOrderedList <span style="color:#ff79c6">=</span> moviePageBoundaries<span style="color:#ff79c6">.</span>toSet<span style="color:#ff79c6">.</span>toList<span style="color:#ff79c6">.</span>sorted
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span> <span style="color:#ff79c6">val</span> filteredAndOrderedListGamesBoundaries <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>filteredAndOrderedList<span style="color:#ff79c6">.</span>head to filteredAndOrderedList<span style="color:#ff79c6">.</span>last<span style="color:#ff79c6">).</span>toList
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span><span style="color:#6272a4">// Sending a message to ioTAdmin actor
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21</span><span style="color:#6272a4"></span>ioTAdmin<span style="color:#ff79c6">!</span><span style="color:#50fa7b">ParseUrlFilms</span><span style="color:#ff79c6">(</span>filteredAndOrderedListGamesBoundaries<span style="color:#ff79c6">,</span><span style="color:#50fa7b">Option</span><span style="color:#ff79c6">(</span>ioTAdmin<span style="color:#ff79c6">))</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22</span><span style="color:#ff79c6">}</span>
</code></pre></div><p>Props are config classes to specify options when you create actors. You can find below a snapshot configuring the actor ioTAdmin<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup> previously created in the above code:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#ff79c6">........</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span style="color:#ff79c6">object</span> <span style="color:#50fa7b">IoTAdmin</span> <span style="color:#ff79c6">{</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span> <span style="color:#ff79c6">case</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">ParseUrlFilms</span><span style="color:#ff79c6">(</span>listTitles<span style="color:#ff79c6">:</span> <span style="color:#8be9fd">List</span><span style="color:#ff79c6">[</span><span style="color:#8be9fd">moviePage</span><span style="color:#ff79c6">],</span> actorRef<span style="color:#ff79c6">:</span> <span style="color:#8be9fd">Option</span><span style="color:#ff79c6">[</span><span style="color:#8be9fd">ActorRef</span><span style="color:#ff79c6">]</span><span style="color:#ff79c6">=</span><span style="color:#50fa7b">None</span><span style="color:#ff79c6">)</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span> <span style="color:#ff79c6">case</span> <span style="color:#ff79c6">object</span> <span style="color:#50fa7b">ErrorStopActor</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span> <span style="color:#ff79c6">case</span> <span style="color:#ff79c6">object</span> <span style="color:#50fa7b">StopProcess</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span> <span style="color:#ff79c6">def</span> props<span style="color:#ff79c6">:</span> <span style="color:#8be9fd">Props</span> <span style="color:#ff79c6">=</span> <span style="color:#50fa7b">Props</span><span style="color:#ff79c6">(</span><span style="color:#ff79c6">new</span> <span style="color:#50fa7b">IoTAdmin</span><span style="color:#ff79c6">)</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span style="color:#ff79c6">}</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span><span style="color:#ff79c6">...</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span><span style="color:#ff79c6">}</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>
</code></pre></div><p>I read the config info from the <strong>application.conf file</strong>, you can find how to do that in <a href="https://doc.akka.io/docs/akka/current/general/configuration.html#where-configuration-is-read-from">Akka config information</a>.
What do you have to consider when dealing with configuration files in Akka:</p>
<ul>
<li>Akka configuration values. We will use default values for the moment.</li>
<li>Where to save the configuration file and how to name it.</li>
<li>How the configuration files are loaded or read. [related class/interfaces: <a href="https://www.javadoc.io/doc/com.typesafe/config/1.3.3/com/typesafe/config/ConfigFactory.html">ConfigFactory</a>, <a href="https://www.javadoc.io/doc/com.typesafe/config/1.3.3/com/typesafe/config/Config.html">Config</a>]</li>
</ul>
<p>The main Akka configuration files are usually <strong>application.conf</strong> and placed in the <strong>&ldquo;resource&rdquo;</strong> folder.
In real life, we usually need to work in different environments, and we can create the <strong>application.conf</strong> during the compilation process. We include the config file in our specific configurations sometimes depending on the work environments. We have created a real-world config example where you can configure a production(<strong>production.conf</strong>) or development(<strong>development.conf</strong>) environment. If you want to learn how to work, set, and manage the config file, you can go to my post about how <a href="https://mojitoverdeintw.blogspot.com/2019/02/generating-scala-app-distribution-with.html">generating distributions for different environments</a>.</p>
<p>We already have minimal information to create an Akka App only using the actor module anyway you can have a look at my repository <a href="https://github.com/ldipotetjob/akka-quickstart-scala">akka-quickstart-scala</a> and check out how to install and launch it(try the first option in your terminal[<strong>sbt</strong> &ldquo;AkkaSchedulerPoc/runMain com.ldg.BootNotScheduled 1 5&rdquo;)]</p>
<p>We gave you today a first glance at how to solve concurrency problems in Scala using Akka libraries.</p>
<section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p>BootNotScheduled code in <a href="https://raw.githubusercontent.com/ldipotetjob/akka-quickstart-scala/master/modules/AkkaScheduler/src/main/scala/com/ldg/BootNotScheduled.scala">my github</a>&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2" role="doc-endnote">
<p>IoTAdmin code in <a href="https://raw.githubusercontent.com/ldipotetjob/akka-quickstart-scala/master/modules/AkkaScheduler/src/main/scala/com/ldg/actors/IoTAdmin.scala">my github</a>&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</section>

    </div>
  </article>

  
  





  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/mojitoverde/">Home</a></li>
         
          <li><a href="/mojitoverde/posts">Blog</a></li>
         
          <li><a href="/mojitoverde/tags">Tags</a></li>
         
          <li><a href="/mojitoverde/about">About</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#actor-system-heritage">Actor system heritage</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fldipotetjob.github.io%2fmojitoverde%2fposts%2f2019-03-10-akkaconcurrencysolution%2f" aria-label="Facebook">
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fldipotetjob.github.io%2fmojitoverde%2fposts%2f2019-03-10-akkaconcurrencysolution%2f&text=Akka%20an%20intelligent%20solution%20for%20concurrency" aria-label="Twitter">
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fldipotetjob.github.io%2fmojitoverde%2fposts%2f2019-03-10-akkaconcurrencysolution%2f&title=Akka%20an%20intelligent%20solution%20for%20concurrency" aria-label="Linkedin">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fldipotetjob.github.io%2fmojitoverde%2fposts%2f2019-03-10-akkaconcurrencysolution%2f&is_video=false&description=Akka%20an%20intelligent%20solution%20for%20concurrency" aria-label="Pinterest">
      <i class="fab fa-pinterest fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Akka%20an%20intelligent%20solution%20for%20concurrency&body=Check out this article: https%3a%2f%2fldipotetjob.github.io%2fmojitoverde%2fposts%2f2019-03-10-akkaconcurrencysolution%2f" aria-label="Email">
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fldipotetjob.github.io%2fmojitoverde%2fposts%2f2019-03-10-akkaconcurrencysolution%2f&title=Akka%20an%20intelligent%20solution%20for%20concurrency" aria-label="Pocket">
      <i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fldipotetjob.github.io%2fmojitoverde%2fposts%2f2019-03-10-akkaconcurrencysolution%2f&title=Akka%20an%20intelligent%20solution%20for%20concurrency" aria-label="reddit">
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fldipotetjob.github.io%2fmojitoverde%2fposts%2f2019-03-10-akkaconcurrencysolution%2f&name=Akka%20an%20intelligent%20solution%20for%20concurrency&description=We%20have%20a%20concurrency%20problem%3a%20I%20need%20to%20process%20and%20parse%20hundreds%20of%20thousands%20of%20websites%20asynchronously.%20I%20tried%20many%20options%20with%20something%20in%20mind%20always%3a%20Futures.%20By%20coding%20in%20that%20manner%2c%20I%20produce%20something%20akin%20to%20the%20following%3a%0a1%2f%2f....................%202%203%2f%2fgame_1%3a%20Int%20value%20indicating%20first%20game%204%205%2f%2fgame_n%3a%20Int%20value%20indicating%20game%20n%206%207val%20resultMatch%3aList%5bFuture%5bList%5bMatch%5d%5d%5d%20%3d%20%28game_1%20until%20game_n%29.map%20%7b%208%20matchnum%20%3d%26gt%3b%209%20Future%7b%2010%20new%20ParserFootbalHTML%28%26%2334%3bhttps%3a%2f%2fwww.anyurl.com%2f...%26%2334%3b%20%2b%20matchnum%29." aria-label="Tumblr">
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fldipotetjob.github.io%2fmojitoverde%2fposts%2f2019-03-10-akkaconcurrencysolution%2f&t=Akka%20an%20intelligent%20solution%20for%20concurrency" aria-label="Hacker News">
      <i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu-toggle" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;" aria-label="Menu">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc-toggle" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;" aria-label="TOC">
          <i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share-toggle" class="icon" href="#" onclick="$('#share-footer').toggle();return false;" aria-label="Share">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2024  Scadip 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/mojitoverde/">Home</a></li>
         
        <li><a href="/mojitoverde/posts">Blog</a></li>
         
        <li><a href="/mojitoverde/tags">Tags</a></li>
         
        <li><a href="/mojitoverde/about">About</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/mojitoverde/lib/font-awesome/css/all.min.css>
<script src=/mojitoverde/lib/jquery/jquery.min.js></script>
<script src=/mojitoverde/js/main.js></script>
<script src=/mojitoverde/js/code-copy.js></script>



</html>
